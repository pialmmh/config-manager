# RouteSphere Core Configuration
# Global configuration is loaded from routesphere-global.yml

# Quarkus Configuration
quarkus.profile=dev
quarkus.http.port=8081
quarkus.http.host=0.0.0.0

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.telcobright.routesphere".level=DEBUG

# Global Configuration File
routesphere.global.config-file=routesphere-global.yml

# These values are now loaded from routesphere-global.yml
# but can be overridden by environment variables:
# ROUTESPHERE_ACTIVE_TENANT=ccl
# ROUTESPHERE_ACTIVE_PROFILE=prod

# Default tenant configuration (fallback if global config not found)
routesphere.tenant.id=${ROUTESPHERE_ACTIVE_TENANT:telcobright_root}
routesphere.tenant.name=TelcoBright Root Organization
routesphere.tenant.type=ROOT
routesphere.tenant.active-profile=${ROUTESPHERE_ACTIVE_PROFILE:dev}
routesphere.tenant.active=true

# Database configuration (loaded based on active tenant/profile from global config)
routesphere.tenant.profiles.dev.general.database.url=jdbc:mysql://127.0.0.1:3306/routesphere_dev
routesphere.tenant.profiles.dev.general.database.username=root
routesphere.tenant.profiles.dev.general.database.password=123456
routesphere.tenant.profiles.dev.general.config-manager.base-url=http://localhost:7070
routesphere.tenant.profiles.dev.general.kafka.bootstrap-servers=localhost:9092

# ConfigManager Service Configuration
configmanager.api.url=http://localhost:7070
configmanager.api.enabled=false
# Set to false when Kafka is not available
configmanager.kafka.enabled=false

# Kafka Configuration for ConfigManager
kafka.bootstrap.servers=localhost:9092

# Incoming channel for config updates - Using in-memory connector as fallback
# When Kafka is available, change connector to smallrye-kafka
mp.messaging.incoming.config-updates.connector=smallrye-in-memory
mp.messaging.incoming.config-updates.topic=config_event_loader
mp.messaging.incoming.config-updates.group.id=routesphere-config-group

# Incoming channel for database changes - Using in-memory connector as fallback
mp.messaging.incoming.db-changes.connector=smallrye-in-memory
mp.messaging.incoming.db-changes.topic=all-mysql-changes
mp.messaging.incoming.db-changes.group.id=routesphere-db-group

# Kafka-specific configuration (uncomment when using Kafka)
# mp.messaging.incoming.config-updates.connector=smallrye-kafka
# mp.messaging.incoming.config-updates.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
# mp.messaging.incoming.config-updates.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
# mp.messaging.incoming.config-updates.enable.auto.commit=true
# mp.messaging.incoming.config-updates.auto.offset.reset=latest
# mp.messaging.incoming.db-changes.connector=smallrye-kafka
# mp.messaging.incoming.db-changes.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
# mp.messaging.incoming.db-changes.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
# mp.messaging.incoming.db-changes.enable.auto.commit=true
# mp.messaging.incoming.db-changes.auto.offset.reset=latest